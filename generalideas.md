# SaaS App - General Ideas
**نوع محصول:** وب اپلیکیشن SaaS برای مشاورین و مدیران املاک ایران
**زبان:** فارسی | **جهت:** RTL | **بازار:** ایران | **نوع:** PWA

---

## 1. ساختار کاربران (User Roles)

- **Super Admin (توسعه‌دهنده/من):** دسترسی کامل، می‌تواند Mid Admin بسازد
- **Mid Admin:** تیم پشتیبانی/فروش، دسترسی محدودتر
- **Subscriber / مدیر املاک:** مشترک اصلی، مدیریت کامل دفتر خود
- **مشاور (Agent):** زیرمجموعه مدیر، پروفایل توسط مدیر ایجاد می‌شود

مدیر همه دسترسی‌های مشاور را هم دارد.

### احراز هویت و امنیت
- **فراموشی رمز عبور:** ریست از طریق ایمیل (فعلاً)
- **محدودیت session:** هر مشاور یا مدیر حداکثر **۲ session فعال** همزمان می‌تواند داشته باشد
- **لاگ فعالیت:** ثبت تمام تغییرات فایل‌ها (چه کسی، چه زمانی، چه تغییری) — فقط برای مدیر قابل مشاهده است

---

## 2. پروفایل دفتر (Office Profile)

مدیر می‌تواند اطلاعات دفتر را ویرایش کند:
- نام دفتر
- لوگو (برای واترمارک تصاویر و صفحه share)
- آدرس
- اطلاعات تماس (تلفن، شبکه‌های اجتماعی)
- بیو دفتر
- اطلاعات پرداخت (درگاه زرین‌پال)

---

## 3. مدیریت فایل ملک (Core Feature)

هر ملک یک **"فایل"** است.

### نوع معامله (تعیین‌کننده فیلدها)
- **فروش** — قیمت کل
- **اجاره بلندمدت** — رهن و اجاره ماهانه
- **اجاره کوتاه‌مدت** — قیمت شبانه/هفتگی
- **پیش‌فروش**
- فیلدهای فرم بر اساس نوع معامله انتخاب‌شده تغییر می‌کنند

### اطلاعات پایه فایل
- متراژ
- طبقه
- سن بنا
- سایر ویژگی‌های رایج (آسانسور، پارکینگ، انباری، ...)
- **واحد پول: تومان**

### تاریخچه قیمت
- هر بار که قیمت تغییر می‌کند، تاریخ و مقدار قبلی ذخیره می‌شود
- قابل مشاهده برای مدیر و مشاور

### وضعیت فایل
- فعال، بایگانی، فروخته‌شده، اجاره داده‌شده، منقضی

### ثبت سریع فایل (Quick File Creation - موبایل محور)
- مشاور در محل بازدید، اطلاعات ضروری را وارد می‌کند
- همه فیلدها اجباری نیستند — می‌توان بعداً تکمیل کرد
- انتخاب لوکیشن روی نقشه (پین)
- عکس‌برداری مستقیم یا انتخاب از گالری (در مرحله اول اجباری نیست)

### آنالیز هوشمند لوکیشن (AI Location Analysis)
بر اساس لوکیشن پین:
- تخمین زمان پیاده‌روی تا **حمل‌ونقل عمومی**
- تخمین زمان رانندگی تا **فرودگاه شهر** (در صورت وجود)
- شناسایی **ویژگی‌های منفی مجاورت:**
  - مدرسه، زندان، بزرگراه، سایر موارد مشابه

### توضیحات هوشمند (AI Description Generation)
- تولید خودکار توضیحات فایل با استفاده از AI یا قالب‌های آماده
- انتخاب **لحن توضیحات:** کاملاً صادقانه / خنثی / خوش‌بینانه
- قابل ویرایش توسط مشاور یا مدیر

### پردازش تصاویر (Photo Processing) — اختیاری، پیش‌فعال
- بهبود رنگ و کیفیت تصاویر
- یکسان‌سازی ابعاد
- افزودن واترمارک لوگوی دفتر

### اطلاعات تماس
- دکمه **+** برای افزودن مالک، مستاجر یا هر دو
- ذخیره اطلاعات تماس در فایل

---

## 4. مدیریت فایل توسط مدیر

- فایل پس از ثبت توسط مشاور، در **پنل مدیر** نیز قابل مشاهده است
- مدیر می‌تواند فایل را به **چند مشاور** تخصیص دهد
- هم مدیر و هم مشاور می‌توانند فایل را **ویرایش** کنند
- هر مشاور **نسخه ویرایش‌شده خودش** را می‌بیند
- مدیر می‌تواند **هر دو نسخه** را ببیند و انتخاب کند کدام را به اشتراک بگذارد
- مدیر می‌تواند فایل را **اشتراک‌گذاری، ویرایش یا واگذار** کند

---

## 5. اشتراک‌گذاری فایل (Share Feature)

### لینک اشتراک‌گذاری
هنگام اشتراک‌گذاری، مدیر/مشاور انتخاب می‌کند:
- قیمت **فعلی** فایل یا قیمت **متفاوت** برای آن شخص خاص

سپس یک **لینک اختصاصی** ساخته می‌شود با صفحه‌ای مدرن و زیبا شامل:
- توضیحات فایل
- تصاویر با قابلیت اسلاید
- نام دفتر و مشاور
- دکمه‌های تماس (تلفن / پیام)
- عکس دفتر کلیک‌پذیر → نمایش بیو و اطلاعات تماس دفتر

### اعتبار لینک
- لینک تا زمانی که **فایل فعال** است معتبر است
- با بسته شدن یا آرشیو فایل، لینک غیرفعال می‌شود

### آمار بازدید لینک
- تعداد بازدید لینک برای **مدیر** قابل مشاهده است

### خروجی تصاویر
- دانلود مستقیم (نه فایل زیپ) — یا گزینه انتخاب برای کاربر

### کانال انتشار
- آماده برای آپلود در **دیوار** و سرویس‌های مشابه

---

## 6. بستن قرارداد (Contract Finalization)

- توسط **مدیر** انجام می‌شود
- ورودی‌ها:
  - درصد کمیسیون خریدار/فروشنده یا مستاجر/موجر
  - درصد کمیسیون آن مشاور خاص
  - **آپلود عکس یا متن** برای آرشیو داخلی قرارداد
- فایل **بسته** می‌شود
- داده به **پروفایل مدیر و مشاور** اضافه می‌شود:
  - تعداد فایل‌های موفق
  - مجموع فروش/اجاره برای دفتر
  - درآمد مشاور

---

## 7. پروفایل مشاور (Agent Profile)

- ایجاد توسط مدیر با **نام کاربری و رمز عبور** (شماره موبایل احتمالاً بعداً)
- مشاور می‌تواند **نام و عکس پروفایل** را تغییر دهد
- فیلدهای پروفایل:
  - تاریخ تولد
  - کد ملی
  - عکس پروفایل
  - بیو (فقط مدیر می‌بیند + یادداشت مدیر)
- آمار:
  - تعداد فایل‌ها
  - تعداد فایل‌های موفق
  - سایر آمارهای مرتبط

---

## 8. داشبورد مدیر (Manager Dashboard)

- فایل‌های اخیر و همه فایل‌ها
- قراردادهای اخیر و همه قراردادها
- لیست همه مشاوران + پروفایل آن‌ها
- آمار و تحلیل‌های کلی دفتر
- **سابقه مالی دفتر:** درآمد کل در بازه‌های زمانی مختلف (ماهانه، سالانه)

---

## 9. CRM و مشتریان

### دسته‌بندی مشتریان
- خریدار، فروشنده، مستاجر، موجر

### افزودن مشتری
- مدیر یا مشاور شماره موبایل مشتری را وارد می‌کند
- می‌توان **یادداشت** اضافه کرد: بودجه، متراژ مطلوب، منطقه مورد نظر، سایر نیازها
- یادداشت برای هم مدیر و هم مشاور قابل مشاهده است

### ویژگی‌ها
- سوابق معاملات مشتری
- **مشتری گذری:** ورود شماره موبایل → فیلتر فایل‌های مرتبط → ارسال SMS
- **فیلتر فایل‌ها** برای ارسال هدفمند: لوکیشن، قیمت، آسانسور، پارکینگ، ...

### پیگیری اجاره (Follow-up)
- **۱ ماه قبل از پایان قرارداد اجاره سالانه** (یا هر دوره‌ای)، مدیر می‌تواند SMS پیگیری با متن سفارشی ارسال کند

---

## 10. سیستم SMS

- **ارسال فایل به مشتری گذری:** SMS با لینک فایل
- **نظرسنجی پس از معامله:** لینک SMS برای امتیازدهی به مشاور و تجربه خدمات (اختیاری برای مشتری)
- **SMS پیگیری اجاره:** یک ماه قبل از پایان قرارداد، با متن سفارشی
- قالب‌های متفاوت SMS برای موارد مختلف (خرید، اجاره، ...)

---

## 11. اعلان‌ها (Notifications)

- تخصیص فایل جدید به مشاور
- ویرایش فایل توسط مدیر (اطلاع به مشاور)
- ویرایش فایل توسط مشاور (اطلاع به مدیر)
- یادآور پیگیری مشتری
- In-app notification + Push notification (PWA)

---

## 12. پلن‌های اشتراک (Pricing Tiers)

- **دوره رایگان:** ۱ ماه (یا کمتر — بررسی شود)
- **پلن ۱ (کوچک):** برای دفاتر کوچک
- **پلن ۲ (بزرگ):** برای دفاتر بزرگ‌تر
- محدودیت‌های هر پلن (تعداد مشاور، فایل فعال، SMS و ...) در مرحله برنامه‌ریزی تعریف می‌شود
- **درگاه پرداخت: زرین‌پال**

---

## 13. سیستم معرفی (Referral System)

- مدیران هنگام ثبت‌نام **کد معرف** وارد می‌کنند
- معرفان محلی با کد خودشان می‌فروشند
- Super Admin می‌تواند ببیند:
  - هر معرف چند کاربر فعال دارد
  - کاربران در چه تیری هستند
  - در هر ماه چقدر — برای محاسبه و پرداخت درصد معرف

---

## 14. آنبوردینگ (Onboarding)

- راهنمای ساده قدم‌به‌قدم برای مدیر پس از اولین ورود
- سریع و minimal — هدف: رسیدن به اولین فایل ثبت‌شده در کمترین زمان

---

## 15. پشتیبانی

- ارسال ایمیل به پشتیبانی (فعلاً)
- سیستم تیکت (آینده)

---

## جمع‌بندی ویژگی‌ها

| دسته | ویژگی‌ها |
|------|----------|
| پلتفرم | PWA، RTL، فارسی، ایران |
| هسته اصلی | ثبت سریع فایل، نوع معامله، تاریخچه قیمت، مدیریت فایل، تخصیص به مشاور |
| هوش مصنوعی | آنالیز لوکیشن، تولید توضیحات، پردازش تصویر |
| اشتراک‌گذاری | لینک اختصاصی، اعتبار لینک، آمار بازدید، قیمت سفارشی |
| قرارداد | بستن فایل، کمیسیون، آرشیو اسناد، آمار مشاور |
| CRM | دسته‌بندی مشتریان، یادداشت/بودجه، پیگیری اجاره، SMS هدفمند |
| مدیریت تیم | پروفایل مشاور، لاگ فعالیت، داشبورد، آمار مالی |
| امنیت | ریست رمز با ایمیل، محدودیت ۲ session |
| اعلان‌ها | In-app + Push notification |
| تجاری | پلن‌های اشتراک، زرین‌پال، سیستم معرف، دوره رایگان |
| آنبوردینگ | راهنمای قدم‌به‌قدم minimal |
| پشتیبانی | ایمیل (فعلاً)، تیکت (آینده) |
